<!-- Copyright 2024 Amazon.com, Inc. or its affiliates. All Rights Reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
    <xi:include href="/META-INF/plugin-chat.xml" />
    <xi:include href="/META-INF/plugin-codetransform.xml" />
    <xi:include href="/META-INF/plugin-codewhisperer.xml" />

    <extensionPoints>
        <extensionPoint qualifiedName="software.aws.toolkits.jetbrains.moduleDependencyProvider"
                        interface="software.aws.toolkits.jetbrains.services.amazonq.lsp.dependencies.ModuleDependencyProvider"
                        dynamic="true"/>
    </extensionPoints>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="migration.software.aws.toolkits.jetbrains.services.codewhisperer.explorer.CodeWhispererExplorerActionManager"/>
    </extensions>

    <depends optional="true" config-file="amazon-ext-java.xml">com.intellij.modules.java</depends>
    <depends optional="true" config-file="amazon-ext-python.xml">com.intellij.modules.python</depends>

</idea-plugin>
