<!-- Copyright 2025 Amazon.com, Inc. or its affiliates. All Rights Reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<idea-plugin>
    <extensions defaultExtensionNs="com.intellij">
        <platform.lsp.serverSupportProvider
            implementation="software.aws.toolkits.jetbrains.services.cfnlsp.server.CfnLspServerSupportProvider"/>
    </extensions>

    <extensions defaultExtensionNs="aws.toolkit">
        <toolWindowTab implementation="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.CloudFormationToolWindowTab"/>
    </extensions>

    <actions>
        <action id="aws.toolkit.cloudformation.stacks.refresh"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.RefreshStacksAction"/>

        <action id="aws.toolkit.cloudformation.stacks.load_more"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.LoadMoreStacksAction"/>

        <action id="aws.toolkit.cloudformation.resources.add_type"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.AddResourceTypeAction"
                text="Add Resource Types To List"/>

        <action id="aws.toolkit.cloudformation.resources.refresh_type"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.RefreshResourceTypeAction"
                text="Refresh Resource Type"/>

        <action id="aws.toolkit.cloudformation.resources.refresh_all_loaded"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.RefreshAllLoadedResourcesAction"
                text="Refresh All Loaded Resources"/>

        <action id="aws.toolkit.cloudformation.resources.remove_type"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.RemoveResourceTypeAction"
                text="Remove Resource Type"/>

        <action id="aws.toolkit.cloudformation.resources.search"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.SearchResourceAction"
                text="Search Resource"/>

        <action id="aws.toolkit.cloudformation.resources.import"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.ImportResourceStateAction"
                text="Import Resource State"/>

        <action id="aws.toolkit.cloudformation.resources.clone"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.CloneResourceStateAction"
                text="Clone Resource State"/>

        <action id="aws.toolkit.cloudformation.resources.copy_identifier"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.CopyResourceIdentifierAction"
                text="Copy Resource Identifier"/>

        <action id="aws.toolkit.cloudformation.resources.stack_info"
                class="software.aws.toolkits.jetbrains.services.cfnlsp.explorer.actions.GetStackManagementInfoAction"
                text="Get Stack Management Info"/>

        <group id="aws.toolkit.cloudformation.stacks.actions">
            <reference ref="aws.toolkit.cloudformation.stacks.refresh"/>
        </group>

        <group id="aws.toolkit.cloudformation.stacks.actions.with_more">
            <reference ref="aws.toolkit.cloudformation.stacks.load_more"/>
            <reference ref="aws.toolkit.cloudformation.stacks.refresh"/>
        </group>

        <group id="aws.toolkit.cloudformation.resources.actions">
            <reference ref="aws.toolkit.cloudformation.resources.add_type"/>
            <reference ref="aws.toolkit.cloudformation.resources.refresh_all_loaded"/>
        </group>

        <group id="aws.toolkit.cloudformation.resources.type.actions">
            <reference ref="aws.toolkit.cloudformation.resources.refresh_type"/>
            <reference ref="aws.toolkit.cloudformation.resources.remove_type"/>
            <reference ref="aws.toolkit.cloudformation.resources.search"/>
        </group>

        <group id="aws.toolkit.cloudformation.resources.resource.actions">
            <reference ref="aws.toolkit.cloudformation.resources.import"/>
            <reference ref="aws.toolkit.cloudformation.resources.clone"/>
            <reference ref="aws.toolkit.cloudformation.resources.copy_identifier"/>
            <reference ref="aws.toolkit.cloudformation.resources.stack_info"/>
        </group>
    </actions>
</idea-plugin>
