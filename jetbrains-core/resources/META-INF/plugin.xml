<idea-plugin>
    <id>aws.toolkit</id>
    <name>AWS Toolkit</name>
    <version>1.0</version>

    <description><![CDATA[
      Plugin for interacting with AWS resources.
    ]]></description>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <depends>com.intellij.modules.lang</depends>
    <depends optional="true" config-file="ext-java.xml">com.intellij.modules.java</depends>
    <depends optional="true" config-file="ext-python.xml">com.intellij.modules.python</depends>
    <depends optional="true" config-file="ext-go.xml">org.jetbrains.plugins.go</depends>

    <extensionPoints>
        <extensionPoint qualifiedName="aws.toolkit.credentialProviderFactory"
                        beanClass="software.aws.toolkits.jetbrains.core.credentials.CredentialProviderFactoryEP">
            <with attribute="implementation" implements="software.aws.toolkits.jetbrains.core.credentials.CredentialProviderFactory"/>
        </extensionPoint>

        <extensionPoint qualifiedName="aws.toolkit.lambdaPackager" beanClass="com.intellij.lang.LanguageExtensionPoint">
            <with attribute="implementationClass" implements="software.aws.toolkits.jetbrains.services.lambda.LambdaPackager"/>
        </extensionPoint>

        <extensionPoint qualifiedName="aws.toolkit.lambda.handlerResolver"
                      beanClass="software.aws.toolkits.jetbrains.services.lambda.LambdaHandlerResolver$LambdaHandlerResolverExtensionPointBean">
            <with attribute="implementation"
              implements="software.aws.toolkits.jetbrains.services.lambda.LambdaHandlerResolver"/>
            <with attribute="runtime"
              implements="java.lang.String"/>
        </extensionPoint>
    </extensionPoints>

    <extensions defaultExtensionNs="com.intellij">
        <fileEditorProvider implementation="software.aws.toolkits.jetbrains.services.lambda.LambdaViewerProvider"/>

        <!-- Credential Management -->
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.RemoteResourceResolverProvider"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.DefaultRemoteResourceResolverProvider"/>
        <applicationService serviceInterface="software.aws.toolkits.core.region.ToolkitRegionProvider"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.region.AwsRegionProvider"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.region.MockRegionProvider"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.CredentialManager"/>
        <projectService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.ProjectAccountSettingsManager"
                        serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultProjectAccountSettingsManager"
                        testServiceImplementation="software.aws.toolkits.jetbrains.core.credentials.MockProjectAccountSettingsManager"/>
        <postStartupActivity implementation="software.aws.toolkits.jetbrains.core.AwsSettingsPanelInstaller"/>

        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.core.AwsSdkClient"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.AwsClientManager"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.DefaultAwsResourceCache"
                        serviceInterface="software.aws.toolkits.jetbrains.core.AwsResourceCache"
                        testServiceImplementation="software.aws.toolkits.jetbrains.core.MockResourceCache"/>
        <toolWindow id="AWS Explorer" anchor="right"
                    factoryClass="software.aws.toolkits.jetbrains.core.explorer.AwsExplorerFactory"
                    icon="AwsIcons.Logos.AWS_CLOUD"/>
    </extensions>

    <extensions defaultExtensionNs="aws.toolkit">
        <credentialProviderFactory implementation="software.aws.toolkits.jetbrains.core.credentials.ProfileCredentialProviderFactory"/>
        <credentialProviderFactory implementation="software.aws.toolkits.jetbrains.core.credentials.EnvironmentCredentialProviderFactory"/>
        <credentialProviderFactory implementation="software.aws.toolkits.jetbrains.core.credentials.SystemPropertyCredentialProviderFactory"/>
    </extensions>

    <actions>
        <group id="aws.toolkit.explorer.lambda.function" popup="true" compact="true">
            <action id="lambda.function.delete"
                    class="software.aws.toolkits.jetbrains.services.lambda.DeleteFunctionAction"
                    text="Delete Function"
                    icon="AllIcons.Actions.Delete"/>
        </group>
    </actions>


</idea-plugin>
