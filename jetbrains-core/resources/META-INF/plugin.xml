<!-- Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved. -->
<!-- SPDX-License-Identifier: Apache-2.0 -->

<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude" require-restart="false">
    <id>aws.toolkit</id>
    <name>AWS Toolkit - Amazon Q, CodeWhisperer, and more</name>
    <version>1.0</version>

    <description><![CDATA[
<h3><a href="https://aws.amazon.com/q">Amazon Q (preview)</a></h3>
<p>Amazon Q is an interactive, generative AI-powered assistant that gives you expert guidance when building, troubleshooting, and transforming applications on AWS.</p>

<p>Amazon Q can help you with the following:</p>
<ul>
    <li>
        Answer questions about AWS
    </li>
    <li>
        Answer questions about general programming concepts
    </li>
    <li>
        Explain what a line of code or code function does
    </li>
    <li>
        Write unit tests and code
    </li>
    <li>
        Debug and fix code
    </li>
    <li>
        Refactor code
    </li>
</ul>
<img src="https://raw.githubusercontent.com/aws/aws-toolkit-jetbrains/main/marketplaceGifs/amazonQ.gif"></img>

<h3><a href="https://aws.amazon.com/codewhisperer/">Amazon CodeWhisperer</a></h3>
<p>An AI powered productivity tool for the IDE.</p>

<ul>
    <li>
        <b>Real-time code suggestions</b> - automatic code recommendations in 15+ languages, now including infrastructure as code (CloudFormation, AWS CDK, and Terraform)
    </li>
    <li>
        <b>Optimized for use with AWS services</b> - code suggestions are optimized for AWS APIs including Amazon Elastic Compute Cloud (Amazon EC2), AWS Lambda, and Amazon Simple Storage Service (Amazon S3)
    </li>
    <li>
        <b>Built-in security scans</b> - Scan your code to detect hard-to-find vulnerabilities and get code suggestions to remediate them immediately
    </li>
</ul>

<h3><a href="https://codecatalyst.aws/explore">Amazon CodeCatalyst</a></h3>
<p>Unified software development service to quickly build and deliver applications on AWS.</p>

<ul>
    <li>
        <b>Dev Environments</b> - launch JetBrains IDEs in a cloud development environment, available on-demand in the cloud and automatically created with branch code and consistent project settings, providing faster setup, development, and testing
    </li>
</ul>
</p>

<h3>View, modify, and deploy AWS resources</h3>

<ul>
    <li>
        <b>Authentication</b> - Connect to AWS using static credentials, credential process, or AWS identity center
    </li>
    <li>
        <b>Resource Explorer</b> - View and manage AWS resources
    </li>
    <li>
        <b>Run/Debug Local Lambda Functions</b> - Locally test and step-through debug functions in a Lambda-like execution environment provided by the AWS SAM CLI. Supports Java, Python, Node.js, and .NET.
    </li>
    <li>
        <b>Deploy SAM-based Applications</b> - Package, deploy  track SAM-based applications
    </li>
    <li>
        <b>CloudWatch Logs</b> - View and search CloudWatch log streams
    </li>
    <li>
        <b>S3 Explorer</b> - Manage S3 buckets, and upload to/download from S3 buckets
    </li>
    <li>
        See the <a href="https://docs.aws.amazon.com/console/toolkit-for-jetbrains/">user guide</a> for a full list of services and features supported
    </li>
</ul>

<h3>About</h3>
<p>
    The AWS Toolkit for JetBrains makes it easier to write applications built on <a href="https://aws.amazon.com/">Amazon Web Services</a>.
</p>
<p>
    If you come across bugs with the toolkit or have feature requests, please raise an <a href="https://github.com/aws/aws-toolkit-jetbrains/issues">issue</a> on our GitHub repository.
</p>

<p>
    See the <a href="https://docs.aws.amazon.com/console/toolkit-for-jetbrains/">user guide</a> for how to get started
</p>
    ]]></description>

    <vendor email="aws-toolkit-jetbrains@amazon.com" url="https://github.com/aws/aws-toolkit-jetbrains">AWS</vendor>
    <!-- 223.7571.182 is 2022.3 Stable -->
    <idea-version since-build="223.7571.182" until-build="224.*"/>

    <resource-bundle>software.aws.toolkits.resources.MessagesBundle</resource-bundle>

    <!-- please see http://www.jetbrains.org/intellij/sdk/docs/basics/getting_started/plugin_compatibility.html
         on how to target different products -->
    <!-- All required dependencies have to be defined here, you can't define more in an optional config-file,
        See PluginManagerCore#mergeOptionalConfigs -->
    <!-- However, required deps declared though XIncludes are acceptable as long as they can be resolved in the same JAR -->
    <depends>com.intellij.modules.platform</depends>

    <!-- platform-specific required dependencies go in their respective includes -->
    <!-- Gateway build will drop plugin-intellij and insert its own patched XML -->
    <xi:include href="/META-INF/plugin-intellij.xml">
        <xi:fallback/>
    </xi:include>

    <xi:include href="/META-INF/plugin-gateway.xml">
        <xi:fallback/>
    </xi:include>

    <xi:include href="/META-INF/remoteDev.xml">
        <xi:fallback/>
    </xi:include>

    <!-- global optional dependencies here, otherwise in their respective optional includes -->
    <depends optional="true">org.jetbrains.idea.maven</depends>
    <depends optional="true">org.jetbrains.plugins.gradle</depends>
    <depends optional="true" config-file="ext-terminal.xml">org.jetbrains.plugins.terminal</depends>
    <depends optional="true">com.intellij.modules.externalSystem</depends>
    <depends optional="true" config-file="ext-yaml.xml">org.jetbrains.plugins.yaml</depends>
    <depends optional="true" config-file="ext-docker.xml">Docker</depends>
    <depends optional="true" config-file="ext-java.xml">com.intellij.modules.java</depends>
    <depends optional="true" config-file="ext-python.xml">com.intellij.modules.python</depends>
    <depends optional="true" config-file="ext-json.xml">com.intellij.modules.json</depends>
    <depends optional="true" config-file="ext-gateway.xml">com.jetbrains.gateway</depends>
    <depends optional="true" config-file="ext-scala.xml">org.intellij.scala</depends>
    <depends optional="true" config-file="ext-kotlin.xml">org.jetbrains.kotlin</depends>
    <depends optional="true" config-file="ext-shell.xml">com.jetbrains.sh</depends>
    <depends optional="true" config-file="ext-rust-deprecated.xml">org.rust.lang</depends>
    <depends optional="true" config-file="ext-rust.xml">com.jetbrains.rust</depends>

    <xi:include href="services/caws.xml" xpointer="xpointer(/idea-plugin/*)">
        <xi:fallback/>
    </xi:include>

    <xi:include href="/META-INF/IU.xml" xpointer="xpointer(/idea-plugin/*)">
        <xi:fallback/>
    </xi:include>

    <xi:include href="/META-INF/RD.xml" xpointer="xpointer(/idea-plugin/*)">
        <xi:fallback/>
    </xi:include>

    <xi:include href="/META-INF/change-notes.xml" xpointer="xpointer(/idea-plugin/*)">
        <xi:fallback/>
    </xi:include>

    <projectListeners>
        <listener class="software.aws.toolkits.jetbrains.core.credentials.CredentialStatusNotification"
                  topic="software.aws.toolkits.jetbrains.core.credentials.ConnectionSettingsStateChangeNotifier"/>
        <listener class="software.aws.toolkits.jetbrains.services.dynamic.DynamicResourceStateChangedNotificationHandler"
                  topic="software.aws.toolkits.jetbrains.services.dynamic.DynamicResourceStateMutationHandler"/>
        <listener class="software.aws.toolkits.jetbrains.core.credentials.RefreshExplorerCredentials"
                  topic="software.aws.toolkits.jetbrains.core.credentials.ChangeConnectionSettingIfValid"/>
        <listener class="software.aws.toolkits.jetbrains.services.dynamic.SuggestEditExperimentListener"
                  topic="com.intellij.openapi.fileEditor.FileEditorManagerListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.dynamic.UpdateOnExperimentState"
                  topic="software.aws.toolkits.jetbrains.core.experiments.ToolkitExperimentStateChangedListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.codewhisperer.startup.CodeWhispererProjectStartupSettingsListener"
                  topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.codewhisperer.startup.CodeWhispererProjectStartupSettingsListener"
                  topic="software.aws.toolkits.jetbrains.core.credentials.ToolkitConnectionManagerListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.codewhisperer.startup.CodeWhispererProjectStartupSettingsListener"
                  topic="software.aws.toolkits.jetbrains.core.credentials.sso.bearer.BearerTokenProviderListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.codewhisperer.startup.CodeWhispererProjectStartupSettingsListener"
                  topic="software.aws.toolkits.jetbrains.services.codewhisperer.customization.CodeWhispererCustomizationListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.amazonq.toolwindow.AmazonQToolWindowListener"
                  topic="com.intellij.openapi.wm.ex.ToolWindowManagerListener"/>
    </projectListeners>

    <applicationListeners>
        <listener class="software.aws.toolkits.jetbrains.services.codewhisperer.popup.CodeWhispererUIChangeListener"
                  topic="software.aws.toolkits.jetbrains.services.codewhisperer.popup.CodeWhispererPopupStateChangeListener"/>
        <listener class="software.aws.toolkits.jetbrains.services.codewhisperer.toolwindow.CodeWhispererCodeReferenceActionListener"
                  topic="software.aws.toolkits.jetbrains.services.codewhisperer.popup.CodeWhispererUserActionListener"/>
    </applicationListeners>

    <extensionPoints>
        <extensionPoint name="startupAuthFactory" interface="software.aws.toolkits.jetbrains.core.credentials.ToolkitStartupAuthFactory" dynamic="true"/>
        <extensionPoint name="connection.pinned.feature" interface="software.aws.toolkits.jetbrains.core.credentials.pinning.FeatureWithPinnedConnection"
                        dynamic="true"/>

        <extensionPoint name="credentialProviderFactory" interface="software.aws.toolkits.core.credentials.CredentialProviderFactory" dynamic="true"/>

        <extensionPoint name="lambda.runtimeGroup" interface="software.aws.toolkits.jetbrains.services.lambda.RuntimeGroup" dynamic="true"/>

        <extensionPoint name="lambda.builder" beanClass="software.aws.toolkits.jetbrains.core.IdBasedExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="software.aws.toolkits.jetbrains.services.lambda.LambdaBuilder"/>
        </extensionPoint>

        <extensionPoint name="lambda.sam.runtimeDebugSupport" beanClass="software.aws.toolkits.jetbrains.core.IdBasedExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="software.aws.toolkits.jetbrains.services.lambda.execution.sam.RuntimeDebugSupport"/>
        </extensionPoint>

        <extensionPoint name="lambda.sam.imageDebuggerSupport" interface="software.aws.toolkits.jetbrains.services.lambda.execution.sam.ImageDebugSupport"
                        dynamic="true"/>

        <extensionPoint name="lambda.handlerResolver" beanClass="software.aws.toolkits.jetbrains.core.IdBasedExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="software.aws.toolkits.jetbrains.services.lambda.LambdaHandlerResolver"/>
        </extensionPoint>

        <extensionPoint name="lambda.sam.projectWizard" beanClass="software.aws.toolkits.jetbrains.core.IdBasedExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="software.aws.toolkits.jetbrains.services.lambda.wizard.SamProjectWizard"/>
        </extensionPoint>

        <extensionPoint name="lambda.handlerCompletion" beanClass="software.aws.toolkits.jetbrains.core.IdBasedExtensionPoint" dynamic="true">
            <with attribute="implementationClass" implements="software.aws.toolkits.jetbrains.services.lambda.completion.HandlerCompletion"/>
        </extensionPoint>

        <extensionPoint name="executable" interface="software.aws.toolkits.jetbrains.core.executables.ExecutableType" dynamic="true"/>

        <extensionPoint name="explorer.serviceNode" interface="software.aws.toolkits.jetbrains.core.explorer.nodes.AwsExplorerServiceNode" dynamic="true"/>
        <extensionPoint name="explorer.nodeProcessor" interface="software.aws.toolkits.jetbrains.core.explorer.AwsExplorerNodeProcessor" dynamic="true"/>
        <extensionPoint name="explorer.treeStructure" interface="software.aws.toolkits.jetbrains.core.explorer.AwsExplorerTreeStructureProvider"
                        dynamic="true"/>
        <extensionPoint name="sdk.clientCustomizer" interface="software.aws.toolkits.core.ToolkitClientCustomizer" dynamic="true"/>
        <extensionPoint name="experiment" interface="software.aws.toolkits.jetbrains.core.experiments.ToolkitExperiment" dynamic="true"/>
        <extensionPoint name="tool" interface="software.aws.toolkits.jetbrains.core.tools.ToolType" dynamic="true"/>
        <extensionPoint name="devTools.serviceNode" interface="software.aws.toolkits.jetbrains.core.explorer.devToolsTab.nodes.DevToolsServiceNode" dynamic="true"/>
        <extensionPoint name="devTools.treeStructure" interface="software.aws.toolkits.jetbrains.core.explorer.devToolsTab.DevToolsTreeStructureProvider" dynamic="true"/>
        <extensionPoint name="cwq.serviceNode" interface="software.aws.toolkits.jetbrains.core.explorer.cwqTab.nodes.CwQServiceNode" dynamic="true"/>
        <extensionPoint name="cwq.treeStructure" interface="software.aws.toolkits.jetbrains.core.explorer.cwqTab.CwQTreeStructureProvider" dynamic="true"/>
        <extensionPoint name="codewhisperer.programmingLanguage" interface="software.aws.toolkits.jetbrains.services.codewhisperer.language.CodeWhispererProgrammingLanguage" dynamic="true"/>
        <extensionPoint name="codewhisperer.classResolver" interface="software.aws.toolkits.jetbrains.services.codewhisperer.language.classresolver.CodeWhispererClassResolver" dynamic="true"/>
        <extensionPoint name="codewhisperer.importAdder" interface="software.aws.toolkits.jetbrains.services.codewhisperer.importadder.CodeWhispererImportAdder" dynamic="true"/>

        <extensionPoint name="amazonq.appFactory" interface="software.aws.toolkits.jetbrains.services.amazonq.apps.AmazonQAppFactory" dynamic="true" />
    </extensionPoints>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.core.coroutines.PluginCoroutineScopeTracker"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.coroutines.PluginCoroutineScopeTracker"/>

        <!-- Credential Management -->
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.RemoteResourceResolverProvider"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.DefaultRemoteResourceResolverProvider"/>
        <applicationService serviceInterface="software.aws.toolkits.core.region.ToolkitRegionProvider"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.region.AwsRegionProvider"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.region.MockRegionProvider"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.CredentialManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultCredentialManager"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.credentials.MockCredentialsManager"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.profiles.ProfileWatcher"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.profiles.DefaultProfileWatcher"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.settings.AwsSettings"
                            serviceImplementation="software.aws.toolkits.jetbrains.settings.DefaultAwsSettings"
                            testServiceImplementation="software.aws.toolkits.jetbrains.settings.MockAwsSettings"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.sso.SsoLoginCallbackProvider"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.sso.DefaultSsoLoginCallbackProvider"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.credentials.sso.MockSsoLoginCallbackProvider"/>

        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.settings.EcsExecCommandSettings"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.settings.SamDisplayDevModeWarningSettings"/>

        <applicationService serviceInterface="software.aws.toolkits.jetbrains.settings.DynamicResourcesSettings"
                            serviceImplementation="software.aws.toolkits.jetbrains.settings.DefaultDynamicResourcesSettings"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.settings.GettingStartedSettings"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.settings.MeetQSettings"/>

        <projectService serviceImplementation="software.aws.toolkits.jetbrains.settings.LambdaSettings"/>

        <moduleService serviceImplementation="software.aws.toolkits.jetbrains.settings.DeploySettings"/>
        <moduleService serviceImplementation="software.aws.toolkits.jetbrains.settings.SyncSettings"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.settings.UpdateLambdaState"/>

        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.settings.CodeWhispererSettings"/>

        <projectService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.AwsConnectionManager"
                        serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultAwsConnectionManager"
                        testServiceImplementation="software.aws.toolkits.jetbrains.core.credentials.MockAwsConnectionManager"/>
        <projectService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.CredentialsRegionHandler"
                        serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultCredentialsRegionHandler"
                        testServiceImplementation="software.aws.toolkits.jetbrains.core.credentials.MockCredentialsRegionHandler"/>

        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.ToolkitAuthManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultToolkitAuthManager"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.ToolkitConnectionManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultToolkitConnectionManager"/>
        <projectService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.ToolkitConnectionManager"
                        serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.DefaultToolkitConnectionManager"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.credentials.pinning.ConnectionPinningManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.credentials.pinning.DefaultConnectionPinningManager"/>

        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.dynamic.CreateResourceFileStatusHandler"/>

        <statusBarWidgetFactory id="AwsSettingsPanel" implementation="software.aws.toolkits.jetbrains.core.credentials.AwsSettingsPanelInstaller"/>
        <statusBarWidgetFactory id="aws.codewhisperer"
                                implementation="software.aws.toolkits.jetbrains.services.codewhisperer.status.CodeWhispererStatusBarWidgetFactory"/>
        <statusBarWidgetFactory id="CawsSpaceProjectInfo" implementation="software.aws.toolkits.jetbrains.services.caws.CawsStatusBarInstaller"/>

        <postStartupActivity implementation="software.aws.toolkits.jetbrains.core.AwsTelemetryPrompter"/>
        <postStartupActivity implementation="software.aws.toolkits.jetbrains.core.executables.ExecutableLoader"/>
        <postStartupActivity implementation="software.aws.toolkits.jetbrains.services.codewhisperer.startup.CodeWhispererProjectStartupActivity"/>
        <applicationService serviceInterface="software.aws.toolkits.core.clients.SdkClientProvider"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.AwsSdkClient"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.services.telemetry.TelemetryService"
                            serviceImplementation="software.aws.toolkits.jetbrains.services.telemetry.DefaultTelemetryService"
                            testServiceImplementation="software.aws.toolkits.jetbrains.services.telemetry.NoOpTelemetryService"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.executables.ExecutableManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.executables.DefaultExecutableManager"/>

        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.core.tools.ToolSettings"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.tools.ToolManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.tools.DefaultToolManager"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.tools.MockToolManager"/>

        <applicationService serviceInterface="software.aws.toolkits.core.ToolkitClientManager"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.AwsClientManager"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.MockClientManager"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.core.AwsResourceCache"
                            serviceImplementation="software.aws.toolkits.jetbrains.core.DefaultAwsResourceCache"
                            testServiceImplementation="software.aws.toolkits.jetbrains.core.MockResourceCache"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.dynamic.DynamicResourceSchemaMapping"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.dynamic.DynamicResourceSupportedTypes"/>

        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.dynamic.DynamicResourceUpdateManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.core.experiments.ToolkitExperimentManager"/>

        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.explorer.ExplorerToolWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.cloudformation.stack.StackWindowManager"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.lambda.validation.LambdaHandlerValidator"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.cloudformation.toolwindow.CloudFormationToolWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.cloudwatch.logs.CloudWatchLogWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.sqs.toolwindow.SqsWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.explorer.devToolsTab.DevToolsToolWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.explorer.cwqTab.CodewhispererQToolWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.core.explorer.AwsToolkitExplorerToolWindow"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.amazonq.toolwindow.AmazonQToolWindow" />

        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.explorer.CodeWhispererExplorerActionManager"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.telemetry.CodeWhispererUserModificationTracker"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.codescan.CodeWhispererCodeScanManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.language.CodeWhispererLanguageManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererInvocationStatus"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererService"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererRecommendationManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.popup.CodeWhispererPopupManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.editor.CodeWhispererEditorManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.telemetry.CodeWhispererTelemetryService"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.inlay.CodeWhispererInlayManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererLicenseInfoManager"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererAutoTriggerService"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererUserGroupSettings"/>
        <applicationService serviceInterface="software.aws.toolkits.jetbrains.services.codewhisperer.customization.CodeWhispererModelConfigurator"
            serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.customization.DefaultCodeWhispererModelConfigurator"/>
        <applicationService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.service.CodeWhispererFeatureConfigService"/>

        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.toolwindow.CodeWhispererCodeReferenceManager"/>
        <projectService serviceInterface="software.aws.toolkits.jetbrains.services.codewhisperer.credentials.CodeWhispererClientAdaptor"
                        serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.credentials.CodeWhispererClientAdaptorImpl"
                        testServiceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.credentials.MockCodeWhispererClientAdaptor"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.status.CodeWhispererStatusBarManager"/>
        <projectService serviceInterface="software.aws.toolkits.jetbrains.services.codewhisperer.util.FileContextProvider"
                        serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.util.DefaultCodeWhispererFileContextProvider"/>
        <projectService serviceImplementation="software.aws.toolkits.jetbrains.services.codewhisperer.learn.LearnCodeWhispererManager"/>

        <editorNotificationProvider implementation="software.aws.toolkits.jetbrains.core.credentials.CredentialsFileHelpNotificationProvider"/>
        <editorNotificationProvider implementation="software.aws.toolkits.jetbrains.services.dynamic.DynamicResourceFileActionProvider"/>

        <toolWindow id="aws.toolkit.explorer" anchor="left" secondary="true"
                    factoryClass="software.aws.toolkits.jetbrains.core.explorer.AwsToolkitExplorerFactory"
                    icon="AwsIcons.Logos.AWS_SMILE_SMALL"/>

        <toolWindow id="aws.cloudformation" anchor="bottom" doNotActivateOnStart="true" canCloseContents="true"
                    factoryClass="software.aws.toolkits.jetbrains.services.cloudformation.toolwindow.CloudFormationToolWindowFactory"
                    icon="AwsIcons.Logos.CLOUD_FORMATION_TOOL"/>

        <toolWindow id="aws.cloudwatchlogs" anchor="bottom" doNotActivateOnStart="true" canCloseContents="true"
                    factoryClass="software.aws.toolkits.jetbrains.services.cloudwatch.logs.toolwindow.CloudWatchLogsToolWindowFactory"
                    icon="AwsIcons.Resources.CloudWatch.LOGS_TOOL_WINDOW"/>

        <toolWindow id="aws.sqs" anchor="bottom" doNotActivateOnStart="true" canCloseContents="true"
                    factoryClass="software.aws.toolkits.jetbrains.services.sqs.toolwindow.SqsWindowFactory" icon="AwsIcons.Resources.Sqs.SQS_TOOL_WINDOW"/>

        <toolWindow id="aws.codewhisperer.codereference" anchor="bottom" doNotActivateOnStart="true" canCloseContents="true"
                    factoryClass="software.aws.toolkits.jetbrains.services.codewhisperer.toolwindow.CodeWhispererCodeReferenceToolWindowFactory"
                    icon="AllIcons.Actions.Preview"/>



        <toolWindow id="amazon.q.window" anchor="right"
                    factoryClass="software.aws.toolkits.jetbrains.services.amazonq.toolwindow.AmazonQToolWindowFactory" icon="AwsIcons.Logos.AWS_Q" />

        <!-- plugin configurables -->
        <applicationConfigurable
            id="aws"
            groupId="tools"
            bundle="software.aws.toolkits.resources.MessagesBundle"
            key="aws.settings.title"
            instance="software.aws.toolkits.jetbrains.settings.AwsSettingsConfigurable"
        />
        <projectConfigurable
            parentId="aws"
            id="aws.lambda"
            bundle="software.aws.toolkits.resources.MessagesBundle"
            key="aws.settings.lambda.configurable.title"
            instance="software.aws.toolkits.jetbrains.services.lambda.settings.LambdaSettingsConfigurable"
        />
        <applicationConfigurable
            parentId="aws"
            id="aws.dynamicresources"
            bundle="software.aws.toolkits.resources.MessagesBundle"
            key="aws.settings.dynamic_resources_configurable.title"
            instance="software.aws.toolkits.jetbrains.settings.DynamicResourcesConfigurable"
        />
        <applicationConfigurable
            parentId="aws"
            id="aws.experiments"
            bundle="software.aws.toolkits.resources.MessagesBundle"
            key="aws.toolkit.experimental.title"
            instance="software.aws.toolkits.jetbrains.core.experiments.ExperimentConfigurable"
        />
        <applicationConfigurable
            parentId="aws"
            id="aws.tools"
            bundle="software.aws.toolkits.resources.MessagesBundle"
            key="executableCommon.configurable.title"
            instance="software.aws.toolkits.jetbrains.core.tools.ToolConfigurable"
        />
        <projectConfigurable
            parentId="aws"
            id="aws.codewhisperer"
            bundle="software.aws.toolkits.resources.MessagesBundle"
            key="aws.settings.codewhisperer.configurable.title"
            instance="software.aws.toolkits.jetbrains.services.codewhisperer.settings.CodeWhispererConfigurable"
        />

        <programRunner implementation="software.aws.toolkits.jetbrains.services.lambda.execution.sam.SamInvokeRunner"/>
        <programRunner implementation="software.aws.toolkits.jetbrains.services.lambda.execution.remote.RemoteLambdaRunner"/>

        <runLineMarkerContributor language="yaml"
                                  implementationClass="software.aws.toolkits.jetbrains.services.lambda.execution.template.YamlLambdaRunLineMarkerContributor"/>
        <configurationType implementation="software.aws.toolkits.jetbrains.services.lambda.execution.LambdaRunConfigurationType"/>
        <runConfigurationProducer implementation="software.aws.toolkits.jetbrains.services.lambda.execution.local.LocalLambdaRunConfigurationProducer"/>
        <runConfigurationProducer implementation="software.aws.toolkits.jetbrains.services.lambda.execution.remote.RemoteLambdaRunConfigurationProducer"/>

        <!-- Min Version Notice -->
        <postStartupActivity implementation="software.aws.toolkits.jetbrains.core.notification.MinimumVersionChange"/>
        <notificationGroup id="aws.toolkit_deprecation" displayType="STICKY_BALLOON" key="aws.toolkit_deprecation.title"/>
        <notificationGroup id="aws.toolkit_telemetry" displayType="STICKY_BALLOON" key="aws.settings.telemetry.prompt.title"/>


        <!--Sticky notifications -->
        <notificationGroup id="aws.toolkit_sticky" displayType="STICKY_BALLOON" key="aws.settings.title"/>

        <!-- Project Wizard components -->
        <directoryProjectGenerator implementation="software.aws.toolkits.jetbrains.services.lambda.wizard.SamProjectGenerator"/>
        <projectTemplatesFactory implementation="software.aws.toolkits.jetbrains.services.lambda.wizard.SamProjectGeneratorIntelliJAdapter"/>

        <webHelpProvider implementation="software.aws.toolkits.jetbrains.core.help.HelpIdTranslator"/>

        <!-- S3 -->
        <fileEditorProvider implementation="software.aws.toolkits.jetbrains.services.s3.S3ViewerEditorProvider"/>
        <!-- See this post why order="first" is required https://intellij-support.jetbrains.com/hc/en-us/community/posts/360003460619-fileIconProvider-is-not-showing-Icon-for-custom-LightVirtualFile -->
        <fileIconProvider order="first" implementation="software.aws.toolkits.jetbrains.services.s3.editor.S3FileIconProvider"/>

        <!-- DynamoDB -->
        <fileEditorProvider implementation="software.aws.toolkits.jetbrains.services.dynamodb.editor.DynamoDbTableEditorProvider"/>
        <fileIconProvider order="first" implementation="software.aws.toolkits.jetbrains.services.dynamodb.editor.DynamoDbFileIconProvider"/>

        <!-- Getting Started -->
        <fileEditorProvider implementation="software.aws.toolkits.jetbrains.core.gettingstarted.editor.GettingStartedEditorProvider"/>
        <fileIconProvider order="first" implementation="software.aws.toolkits.jetbrains.core.gettingstarted.editor.GettingStartedFileIconProvider"/>

        <!--Q Getting Started page -->
        <fileEditorProvider implementation="software.aws.toolkits.jetbrains.services.amazonq.gettingstarted.QGettingStartedEditorProvider"/>


        <!-- Open in Console -->
        <referenceProviderType key="commentsReferenceProvider"
                               implementationClass="software.aws.toolkits.jetbrains.services.federation.psireferences.ArnPsiReferenceProvider"/>
        <psi.referenceContributor id="arnContributor"
                                  implementation="software.aws.toolkits.jetbrains.services.federation.psireferences.ArnPsiReferenceContributor"/>
        <documentationProvider implementation="software.aws.toolkits.jetbrains.services.federation.psireferences.ArnReferenceDocumentationProvider"/>

        <registryKey key="aws.telemetry.endpoint" description="Endpoint to use for publishing AWS client-side telemetry"
                     defaultValue="https://client-telemetry.us-east-1.amazonaws.com" restartRequired="true"/>
        <registryKey key="aws.telemetry.identityPool" description="Cognito identity pool to use for publishing AWS client-side telemetry"
                     defaultValue="us-east-1:820fd6d1-95c0-4ca4-bffb-3f01d32da842" restartRequired="true"/>
        <registryKey key="aws.telemetry.region" description="Region to use for publishing AWS client-side telemetry" defaultValue="us-east-1"
                     restartRequired="true"/>
        <registryKey key="aws.credentialProcess.timeout" description="AWS Credential Process timeout (ms)" restartRequired="false" defaultValue="30000"/>
        <registryKey key="aws.debuggerAttach.timeout" description="Time allowed for debuggers to attach before timing out (ms)" restartRequired="false"
                     defaultValue="60000"/>
        <registryKey key="aws.codecatalyst.endpoint" description="API endpoint for the CodeCatalyst service" restartRequired="true" defaultValue=""/>
        <registryKey key="aws.toolkit.developerMode" description="Enables features to facilitate development of the toolkit" restartRequired="false"
                     defaultValue="false"/>
        <typedHandler implementation="software.aws.toolkits.jetbrains.services.codewhisperer.editor.CodeWhispererTypedHandler"/>
        <editorFactoryListener implementation="software.aws.toolkits.jetbrains.services.codewhisperer.editor.CodeWhispererEditorListener"/>
        <editorActionHandler action="EditorEnter" implementationClass="software.aws.toolkits.jetbrains.services.codewhisperer.editor.CodeWhispererEnterHandler"
                             order="first, before editorEnter"/>
        <actionPromoter order="last" implementation="software.aws.toolkits.jetbrains.services.codewhisperer.actions.CodeWhispererActionPromoter"/>
        <fileEditorProvider implementation="software.aws.toolkits.jetbrains.services.codewhisperer.learn.LearnCodeWhispererEditorProvider"/>
    </extensions>

    <extensions defaultExtensionNs="aws.toolkit">
        <credentialProviderFactory implementation="software.aws.toolkits.jetbrains.core.credentials.profiles.ProfileCredentialProviderFactory"/>
        <credentialProviderFactory implementation="software.aws.toolkits.jetbrains.core.credentials.metadataservice.ContainerCredentialProviderFactory"/>
        <credentialProviderFactory implementation="software.aws.toolkits.jetbrains.core.credentials.metadataservice.InstanceRoleCredentialProviderFactory"/>

        <connection.pinned.feature implementation="software.aws.toolkits.jetbrains.core.credentials.pinning.CodeCatalystConnection"/>
        <connection.pinned.feature implementation="software.aws.toolkits.jetbrains.core.credentials.pinning.CodeWhispererConnection"/>
        <connection.pinned.feature implementation="software.aws.toolkits.jetbrains.core.credentials.pinning.QConnection"/>

        <!-- Executables -->
        <executable implementation="software.aws.toolkits.jetbrains.services.lambda.sam.SamExecutable"/>

        <!-- Explorer nodes -->
        <explorer.treeStructure implementation="software.aws.toolkits.jetbrains.services.dynamic.explorer.DynamicResourceTreeStructureProvider"/>
        <devTools.treeStructure implementation="software.aws.toolkits.jetbrains.services.codewhisperer.explorer.CodeWhispererExplorerTreeStructureProvider"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.AppRunnerExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.CloudFormationExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.CloudWatchRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.DynamoDbExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.LambdaExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.S3ExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.EcrExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.EcsExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.SchemasExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.SqsExplorerRootNode"/>
        <explorer.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.nodes.OtherResourcesRootNode"/>

        <!-- DevTools nodes-->
        <devTools.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.devToolsTab.nodes.CawsServiceNode"/>

        <!-- CodeWhisperer +Q nodes-->
        <cwq.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.cwqTab.nodes.QServiceNode"/>
        <cwq.serviceNode implementation="software.aws.toolkits.jetbrains.core.explorer.cwqTab.nodes.CodeWhispererExplorerRootNode"/>
        <!-- Experiments -->
        <experiment implementation="software.aws.toolkits.jetbrains.services.ecs.EcsExecExperiment"/>
        <experiment implementation="software.aws.toolkits.jetbrains.services.dynamic.JsonResourceModificationExperiment"/>

        <tool implementation="software.aws.toolkits.jetbrains.services.ssm.SsmPlugin"/>

        <sdk.clientCustomizer implementation="software.aws.toolkits.jetbrains.services.codewhisperer.util.CodeWhispererEndpointCustomizer"/>
        <sdk.clientCustomizer implementation="software.aws.toolkits.jetbrains.services.caws.CawsClientCustomizer"/>
    </extensions>

    <extensions defaultExtensionNs="aws.toolkit.codewhisperer">
        <!-- TODO: c/c++ extensions should live its own module instead of jetbrains-core -->
        <programmingLanguage implementation="software.aws.toolkits.jetbrains.services.codewhisperer.language.languages.CodeWhispererC"/>
        <programmingLanguage implementation="software.aws.toolkits.jetbrains.services.codewhisperer.language.languages.CodeWhispererCpp"/>
        <importAdder implementation="software.aws.toolkits.jetbrains.services.codewhisperer.importadder.CodeWhispererFallbackImportAdder"/>
    </extensions>

    <extensions defaultExtensionNs="aws.toolkit.amazonq">
        <appFactory implementation="software.aws.toolkits.jetbrains.services.cwc.AppFactory" />
    </extensions>

    <actions>
        <action id="aws.toolkit.open.telemetry.viewer" class="software.aws.toolkits.jetbrains.services.telemetry.OpenTelemetryAction"/>
        <action id="aws.settings.refresh" class="software.aws.toolkits.jetbrains.core.credentials.RefreshConnectionAction"/>
        <action id="aws.toolkit.showFeedback" class="software.aws.toolkits.jetbrains.ui.feedback.ShowFeedbackDialogAction"/>
        <action id="aws.toolkit.open.arn.browser" class="software.aws.toolkits.jetbrains.services.federation.OpenArnInConsoleEditorPopupAction">
            <add-to-group group-id="EditorPopupMenu"/>
        </action>

        <action id="aws.toolkit.toolwindow.explorer.newConnection"
                class="software.aws.toolkits.jetbrains.core.credentials.actions.ExplorerNewConnectionAction"/>

        <action id="aws.toolkit.toolwindow.credentials.rightGroup.more"
                class="software.aws.toolkits.jetbrains.core.credentials.actions.MoreConnectionActionsAction"/>
        <group id="aws.toolkit.toolwindow.credentials.rightGroup.more.group">
            <action id="aws.toolkit.toolwindow.newConnection" class="software.aws.toolkits.jetbrains.core.credentials.actions.NewConnectionAction"/>
        </group>
        <action id="aws.toolkit.toolwindow.credentials.rightGroup.help" class="software.aws.toolkits.jetbrains.core.credentials.actions.CredentialsHelpAction"/>

        <group id="aws.toolkit.explorer.titleBar" popup="false" compact="true">
            <reference id="aws.settings.refresh"/>
            <separator/>
            <reference id="aws.toolkit.showFeedback"/>
        </group>

        <group id="aws.toolkit.explorer.dynamodb.table" popup="true" compact="false">
            <action id="aws.toolkit.dynamodb.delete_table" class="software.aws.toolkits.jetbrains.services.dynamodb.actions.DeleteTableAction"
                    icon="AllIcons.Actions.Cancel"/>
        </group>

        <group id="aws.toolkit.explorer.ecr" popup="true" compact="false">
            <action id="ecr.repository.create" class="software.aws.toolkits.jetbrains.services.ecr.actions.CreateRepositoryAction"/>
        </group>

        <group id="aws.toolkit.explorer.ecr.repository" popup="true" compact="false">
            <group id="ecr.repository.push.group"/>
            <action id="ecr.repository.copyUri" class="software.aws.toolkits.jetbrains.services.ecr.actions.CopyRepositoryUriAction"/>
            <separator/>
            <action id="ecr.repository.delete" class="software.aws.toolkits.jetbrains.services.ecr.actions.DeleteRepositoryAction"/>
        </group>

        <group id="aws.toolkit.explorer.ecr.tag" popup="true" compact="false">
            <action id="ecr.image.createAppRunnerService" class="software.aws.toolkits.jetbrains.services.ecr.actions.CreateAppRunnerServiceAction"/>
            <action id="ecr.image.copyUri" class="software.aws.toolkits.jetbrains.services.ecr.actions.CopyTagUriAction"/>
            <separator/>
            <action id="ecr.image.delete" class="software.aws.toolkits.jetbrains.services.ecr.actions.DeleteTagAction"/>
        </group>

        <group id="aws.toolkit.explorer.ecs.cluster" popup="true" compact="false">
            <action id="ecs.service.showLogGroup" class="software.aws.toolkits.jetbrains.services.ecs.actions.EcsLogGroupAction"/>
            <separator/>
        </group>

        <group id="aws.toolkit.explorer.ecs.service" popup="true" compact="false">
            <reference ref="RunContextGroupInner"/>
            <group id="ecs.container.actions" compact="true" class="software.aws.toolkits.jetbrains.services.ecs.ServiceContainerActions"/>
            <separator/>
            <action id="ecs.exec.enable" class="software.aws.toolkits.jetbrains.services.ecs.exec.EnableEcsExecuteCommand"/>
            <action id="ecs.exec.disable" class="software.aws.toolkits.jetbrains.services.ecs.exec.DisableEcsExecuteCommand"/>
            <separator/>
        </group>

        <group id="aws.toolkit.explorer.apprunner" popup="true" compact="false">
            <action id="apprunner.service.create" class="software.aws.toolkits.jetbrains.services.apprunner.actions.CreateServiceAction"/>
        </group>

        <group id="aws.toolkit.explorer.apprunner.service" popup="true" compact="false">
            <action id="apprunner.service.deploy" class="software.aws.toolkits.jetbrains.services.apprunner.actions.DeployAction"/>
            <action id="apprunner.service.pause" class="software.aws.toolkits.jetbrains.services.apprunner.actions.PauseServiceAction"/>
            <action id="apprunner.service.resume" class="software.aws.toolkits.jetbrains.services.apprunner.actions.ResumeServiceAction"/>
            <separator/>
            <action id="apprunner.service.openServiceUri" class="software.aws.toolkits.jetbrains.services.apprunner.actions.OpenServiceUrlAction"/>
            <action id="apprunner.service.copyServiceUri" class="software.aws.toolkits.jetbrains.services.apprunner.actions.CopyServiceUrlAction"/>
            <separator/>
            <action id="apprunner.service.showSystemLogs" class="software.aws.toolkits.jetbrains.services.apprunner.actions.ViewSystemLogsAction"/>
            <action id="apprunner.service.showApplicationLogs" class="software.aws.toolkits.jetbrains.services.apprunner.actions.ViewApplicationLogsAction"/>
            <separator/>
            <action id="apprunner.service.delete" class="software.aws.toolkits.jetbrains.services.apprunner.actions.DeleteServiceAction"/>
        </group>

        <group id="aws.toolkit.explorer.lambda" popup="true" compact="false">
            <action id="lambda.function.create" class="software.aws.toolkits.jetbrains.services.lambda.upload.CreateLambdaFunctionAction"/>
        </group>

        <group id="aws.toolkit.explorer.lambda.function" popup="false" compact="false">
            <reference ref="RunContextGroupInner"/>
            <separator/>
            <action id="lambda.function.gotohandler"
                    class="software.aws.toolkits.jetbrains.services.lambda.actions.GoToHandlerAction"/>
            <separator/>
            <action id="lambda.function.updateConfiguration"
                    class="software.aws.toolkits.jetbrains.services.lambda.actions.UpdateFunctionConfigurationAction"/>
            <action id="lambda.function.updateCode" class="software.aws.toolkits.jetbrains.services.lambda.actions.UpdateFunctionCodeAction"/>
            <separator/>
            <action id="lambda.function.viewLogStream" class="software.aws.toolkits.jetbrains.services.lambda.actions.LambdaLogGroupAction"/>
            <separator/>
            <action id="lambda.function.delete"
                    class="software.aws.toolkits.jetbrains.services.lambda.actions.DeleteFunctionAction"/>
        </group>
        
        <group id="aws.toolkit.explorer.cloudformation.stack" popup="true" compact="false">
            <action id="cloudformation.stack.view"
                    class="software.aws.toolkits.jetbrains.services.cloudformation.stack.OpenStackUiAction"/>
            <separator/>
            <action id="cloudformation.stack.delete"
                    class="software.aws.toolkits.jetbrains.services.cloudformation.actions.DeleteStackAction"/>
        </group>


        <group id="aws.toolkit.explorer.dynamic.resource.type" popup="true" compact="false">
            <action id="dynamic.resource.type.explorer.createResource"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.CreateResourceAction"/>
            <action id="dynamic.resource.type.explorer.viewDocumentation"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.ViewDocumentationAction"/>
        </group>

        <group id="aws.toolkit.dynamic.resource.editor">
            <action id="dynamic.resource.editor.submitResourceCreationRequest"
                    class="software.aws.toolkits.jetbrains.services.dynamic.editor.actions.SubmitResourceCreationRequestAction"/>
            <action id="dynamic.resource.editor.enableEditingResource"
                    class="software.aws.toolkits.jetbrains.services.dynamic.editor.actions.EnableEditingResourceAction"/>
            <action id="dynamic.resource.editor.submitResourceUpdateRequest"
                    class="software.aws.toolkits.jetbrains.services.dynamic.editor.actions.SubmitResourceUpdateRequestAction"/>
        </group>

        <group id="aws.toolkit.explorer.dynamic.more.resources" popup="true" compact="false">
            <action id="dynamic.resource.addResourcesToExplorerAction"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.AddResourcesToExplorerAction"/>
        </group>

        <group id="aws.toolkit.explorer.dynamic.resource" popup="true" compact="false">
            <action id="dynamic.resource.explorer.openReadOnlyAction"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.OpenReadOnlyFileAction"/>
            <action id="dynamic.resource.explorer.openFileForUpdateAction"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.OpenFileForUpdateAction"/>
            <separator/>
            <action id="dynamic.resource.explorer.copy.identifier"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.CopyIdentifierAction"/>
            <separator/>
            <action id="dynamic.resource.explorer.dynamicResourceDeleteResourceAction"
                    class="software.aws.toolkits.jetbrains.services.dynamic.explorer.actions.DynamicResourceDeleteResourceAction"/>
        </group>

        <group id="aws.toolkit.explorer.logs.group" popup="true" compact="false">
            <action id="cloudwatch.logs.open"
                    class="software.aws.toolkits.jetbrains.services.cloudwatch.logs.actions.OpenLogGroupAction"/>
            <action id="cloudwatch.logs.query.group"
                    class="software.aws.toolkits.jetbrains.services.cloudwatch.logs.insights.actions.QueryGroupAction"/>
            <separator/>
            <action id="cloudwatch.logs.delete.group"
                    class="software.aws.toolkits.jetbrains.services.cloudwatch.logs.actions.DeleteGroupAction"/>
        </group>

        <group id="aws.toolkit.explorer.s3" popup="false" compact="false">
            <action id="s3.create.bucket"
                    class="software.aws.toolkits.jetbrains.services.s3.bucketActions.CreateBucketAction"/>
            <action id="s3.view.bucket"
                    class="software.aws.toolkits.jetbrains.services.s3.bucketActions.ViewBucketAction"/>
        </group>

        <group id="aws.toolkit.explorer.s3.bucket" popup="true" compact="false">
            <action id="aws.toolkit.s3.open.bucket.viewer"
                    class="software.aws.toolkits.jetbrains.services.s3.bucketActions.OpenBucketViewerAction"/>
            <action id="aws.toolkit.s3.open.bucket.viewer.prefixed"
                    class="software.aws.toolkits.jetbrains.services.s3.bucketActions.OpenPrefixedBucketViewerAction"/>
            <separator/>
            <action id="s3.copy.bucketname.check"
                    class="software.aws.toolkits.jetbrains.services.s3.bucketActions.CopyBucketNameAction"/>
            <separator/>
            <action id="s3.delete.bucket"
                    class="software.aws.toolkits.jetbrains.services.s3.bucketActions.DeleteBucketAction"/>
        </group>

        <group id="aws.toolkit.explorer.schemas" popup="true" compact="false">
            <action id="schemas.search"
                    class="software.aws.toolkits.jetbrains.services.schemas.search.SearchSchemasAction"/>
        </group>

        <group id="aws.toolkit.explorer.schemas.registry" popup="false" compact="true">
            <action id="schemas.registry.search"
                    class="software.aws.toolkits.jetbrains.services.schemas.search.SearchSchemasInRegistryAction"/>
        </group>

        <group id="aws.toolkit.explorer.schemas.schema" popup="false" compact="true">
            <action id="schemas.schema.view"
                    class="software.aws.toolkits.jetbrains.services.schemas.ViewSchemaAction"/>
            <separator/>
            <action id="schemas.schema.downloadCode"
                    class="software.aws.toolkits.jetbrains.services.schemas.code.DownloadCodeForSchemaAction"/>
        </group>

        <group id="aws.toolkit.explorer.sqs" popup="true" compact="false">
            <action id="sqs.create.queue"
                    class="software.aws.toolkits.jetbrains.services.sqs.actions.CreateQueueAction"/>
        </group>

        <group id="aws.toolkit.explorer.codewhisperer" popup="true" compact="true">
            <action id="codewhisperer.settings"
                    class="software.aws.toolkits.jetbrains.services.codewhisperer.actions.CodeWhispererShowSettingsAction"/>
            <separator/>
            <action id="codewhisperer.whatIs"
                    class="software.aws.toolkits.jetbrains.services.codewhisperer.actions.CodeWhispererWhatIsAction"/>
        </group>

        <group id="aws.toolkit.explorer.sqs.queue" popup="true" compact="false">
            <action id="sqs.poll.message" class="software.aws.toolkits.jetbrains.services.sqs.actions.PollMessageAction"/>
            <action id="sqs.send.message" class="software.aws.toolkits.jetbrains.services.sqs.actions.SendMessageAction"/>
            <action id="sqs.purge" class="software.aws.toolkits.jetbrains.services.sqs.actions.PurgeQueueNodeAction"/>
            <separator/>
            <action id="sqs.configure.lambda" class="software.aws.toolkits.jetbrains.services.sqs.actions.ConfigureLambdaAction"/>
            <action id="sqs.subscribe.sns" class="software.aws.toolkits.jetbrains.services.sqs.actions.SubscribeSnsAction"/>
            <separator/>
            <action id="sqs.edit.attributes" class="software.aws.toolkits.jetbrains.services.sqs.actions.EditAttributesAction"/>
            <separator/>
            <action id="sqs.delete.queue" class="software.aws.toolkits.jetbrains.services.sqs.actions.DeleteQueueAction"/>
        </group>

        <action class="software.aws.toolkits.jetbrains.core.credentials.ConfigureAwsConnectionAction" id="aws.settings.selector" icon="AwsIcons.Logos.AWS"/>
        <action class="software.aws.toolkits.jetbrains.core.credentials.CreateOrUpdateCredentialProfilesAction" id="aws.settings.upsertCredentials"
                icon="AwsIcons.Logos.AWS"/>

        <action class="software.aws.toolkits.jetbrains.services.lambda.actions.SyncServerlessApplicationAction" id="serverless.sync.infra"/>
        <action class="software.aws.toolkits.jetbrains.services.lambda.actions.SyncServerlessAppAction" id="serverless.sync.app"/>
        <action class="software.aws.toolkits.jetbrains.settings.ShowSettingsAction" id="aws.settings.show" icon="AllIcons.General.Settings"/>

        <group id="aws.toolkit.sono.id.actions">
            <action class="software.aws.toolkits.jetbrains.core.credentials.sono.SonoLogoutAction" id="aws.toolkit.sono.id.logout"/>
            <action class="software.aws.toolkits.jetbrains.services.caws.actions.OpenCawsProfileAction" id="aws.toolkit.caws.profile"/>
            <action class="software.aws.toolkits.jetbrains.ui.feedback.SubmitFeedbackInGateway" id="aws.toolkit.submit.caws.dev.env.feedback"/>
        </group>

        <group id="aws.toolkit.serverless.template">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorPopupMenu" anchor="last"/>
            <add-to-group group-id="EditorTabPopupMenu" anchor="last"/>

            <separator/>
            <reference id="serverless.sync.infra"/>
            <separator/>
        </group>


        <group id="aws.toolkit.s3viewer.transferActions">
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.DownloadObjectAction"/>
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.UploadObjectAction"/>
        </group>

        <group id="aws.toolkit.s3viewer.versionActions">
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.ViewObjectVersionAction"/>
        </group>

        <group id="aws.toolkit.s3viewer.mutateActions">
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.NewFolderAction"/>
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.RenameObjectAction" use-shortcut-of="RenameElement"/>
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.DeleteObjectAction" use-shortcut-of="$Delete"/>
        </group>

        <group id="aws.toolkit.s3viewer.miscActions">
            <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.RefreshTreeAction" use-shortcut-of="Refresh"/>
        </group>

        <group id="aws.toolkit.s3viewer.toolbar">
            <reference ref="aws.toolkit.s3viewer.transferActions"/>
            <separator/>
            <reference ref="aws.toolkit.s3viewer.versionActions"/>
            <separator/>
            <reference ref="aws.toolkit.s3viewer.mutateActions"/>
            <separator/>
            <reference ref="aws.toolkit.s3viewer.miscActions"/>
        </group>

        <group id="aws.toolkit.s3viewer.contextMenu">
            <reference ref="aws.toolkit.s3viewer.transferActions"/>
            <separator/>
            <reference ref="aws.toolkit.s3viewer.versionActions"/>
            <separator/>
            <group popup="true" id="aws.toolkit.s3viewer.contextMenu.copyGroup" icon="AllIcons.Actions.Copy">
                <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.CopyPathAction"/>
                <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.CopyUrlAction"/>
                <action class="software.aws.toolkits.jetbrains.services.s3.objectActions.CopyUriAction"/>
            </group>
            <separator/>
            <reference ref="aws.toolkit.s3viewer.mutateActions"/>
            <separator/>
            <reference ref="aws.toolkit.s3viewer.miscActions"/>
        </group>

        <group id="aws.toolkit.dynamoViewer.toolbar.primary">
        </group>

        <group id="aws.toolkit.dynamoViewer.toolbar.secondary">
            <group popup="true" id="aws.toolkit.dynamoViewer.toolbar.settings" icon="AllIcons.General.GearPlain">
                <action id="aws.toolkit.dynamoViewer.changeMaxResults"
                        class="software.aws.toolkits.jetbrains.services.dynamodb.editor.actions.ConfigureMaxResultsAction"/>
            </group>
        </group>
        <action class="software.aws.toolkits.jetbrains.services.codewhisperer.actions.CodeWhispererRecommendationAction"
                text="Show Code Suggestions">
            <keyboard-shortcut keymap="$default" first-keystroke="alt C"/>
        </action>
        <group id="aws.toolkit.codewhisperer.toolbar.security">
            <action
                id="codewhisperer.toolbar.security.scan"
                class="software.aws.toolkits.jetbrains.services.codewhisperer.codescan.actions.CodeWhispererCodeScanRunAction"/>
            <action
                id="codewhisperer.toolbar.security.stopscan"
                class="software.aws.toolkits.jetbrains.services.codewhisperer.codescan.actions.CodeWhispererStopCodeScanAction"/>
        </group>

        <group id="q.not.supported">
            <action class="software.aws.toolkits.jetbrains.core.explorer.cwqTab.nodes.QNotSupportedNode"/>
        </group>
        <group id="aws.toolkit.q.idc.signed.in">
            <action
                id="q.openchat"
                class="software.aws.toolkits.jetbrains.services.amazonq.CwQChatAction"/>
        </group>

        <group id="aws.toolkit.q.sign.in">
            <action class="software.aws.toolkits.jetbrains.services.amazonq.explorerActions.SignInToQAction"/>
            <action id="q.learn.more" class="software.aws.toolkits.jetbrains.services.amazonq.explorerActions.QLearnMoreAction"/>
        </group>

        <group id="aws.toolkit.q.enable">
            <action class="software.aws.toolkits.jetbrains.services.amazonq.explorerActions.EnableQAction"/>
            <reference id="q.learn.more"/>
        </group>

        <group id="aws.toolkit.q.expired">
            <action class="software.aws.toolkits.jetbrains.services.amazonq.explorerActions.ReauthenticateWithQ"/>
        </group>


        <action id="aws.toolkit.connection.pinning.unpin"
                class="software.aws.toolkits.jetbrains.core.explorer.devToolsTab.nodes.actions.UnpinConnectionAction"/>

        <group
            id="aws.toolkit.jetbrains.core.services.cwc.actions.ContextMenuActions"
            class="software.aws.toolkits.jetbrains.services.cwc.commands.SendToQActionGroup"
            popup="true"
        >
            <add-to-group
                group-id="EditorPopupMenu"
                anchor="first"
            />

            <action id="aws.toolkit.jetbrains.core.services.cwc.commands.ExplainCodeAction"
                    class="software.aws.toolkits.jetbrains.services.cwc.commands.ExplainCodeAction">
                <keyboard-shortcut keymap="$default" first-keystroke="meta alt E" />
            </action>

            <action id="aws.toolkit.jetbrains.core.services.cwc.commands.RefactorCodeAction"
                    class="software.aws.toolkits.jetbrains.services.cwc.commands.RefactorCodeAction">
                <keyboard-shortcut keymap="$default" first-keystroke="meta alt U" />
            </action>

            <action id="aws.toolkit.jetbrains.core.services.cwc.commands.FixCodeAction"
                    class="software.aws.toolkits.jetbrains.services.cwc.commands.FixCodeAction">
                <keyboard-shortcut keymap="$default" first-keystroke="meta alt Y" />
            </action>

            <action id="aws.toolkit.jetbrains.core.services.cwc.commands.OptimizeCodeAction"
                    class="software.aws.toolkits.jetbrains.services.cwc.commands.OptimizeCodeAction">
                <keyboard-shortcut keymap="$default" first-keystroke="meta alt A" />
            </action>

            <action id="aws.toolkit.jetbrains.core.services.cwc.commands.SendToPromptAction"
                    class="software.aws.toolkits.jetbrains.services.cwc.commands.SendToPromptAction">
                <keyboard-shortcut keymap="$default" first-keystroke="meta alt S" />
            </action>
        </group>

        <group id="aws.toolkit.jetbrains.core.services.codewhisperer.suggestions"
               class="software.aws.toolkits.jetbrains.services.codewhisperer.explorer.CodeWhispererNodeActionGroup" />

    </actions>



</idea-plugin>
